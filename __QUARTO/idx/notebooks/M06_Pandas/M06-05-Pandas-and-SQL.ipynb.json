{"title":"NB: Pandas and SQL","markdown":{"headingText":"NB: Pandas and SQL","containsRefs":false,"markdown":"\n\n# Overview\n\nIn this exercise, we split the raw table into tables corresponding the **implied subjects** we discovered. \n\nThen we use joins to reassemble the data. \n\nWe will assumed that the implied subjects are ARTIST, GENRE, ALBUM, and REVIEW.\n\nTo do this, we use Pandas to store the initial table as a dataframe, and then we create variations of that dataframe and save those to the database as new tables. \n\n# Connect to the database\n\nWe create an empty database to store our work.\n\n# Get the raw review table\n\nGet the review data.\n\n# Remove rows with missing data\n\nHere's a quick to inventory which columns have missing data.\n\nDrop dupicate rows, too.\n\n# Create implied subject tables\n\n## The `artist` table\n\nWe get the unique artist names and save them to a new dataframe, and change the column name and the index name in the process so that we have well-named columns in our table. \n\nHow many albums does Wilco have?\n\n### Pattern\n\n1. Import the columns that you want from raw table into a new dataframe. `value_counts()` is your friend.\n2. Rename columns and index as desired.\n3. Put the new dataframe into the database as a new table. No need to define the schema!\n\n## The `genre` table\n\n## The `album` table\n\n## The `review` table\n\nNote how the new `review` table has fewer columns -- e.g. we no longer have genre. \n\n# Results\n\nSo, we have create four primary tables from our raw data.\n\n# Use `.join()` \n\nIf we want to see genre in the review, we can create a join.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":true,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"number-sections":false,"output-file":"M06-05-Pandas-and-SQL.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.262","bibliography":["../../refs.bib"],"_quarto-vars":{"version":2,"course_num":"DS 5100","course_title":"Programming for Data Science","academic_term":"Fall 2023","cohort_type":"Online","course_code":"DS5100-2023-08-O","course_allocation":"msds_ds5100","canvas_url":"https://canvas.its.virginia.edu/courses/75059","github_url":"https://github.com/ontoligent/DS5100-2023-08-O","website_url":"https://ontoligent.github.io/DS5100-2023-08-O","survey_form_url":"https://forms.office.com/r/YWaFPXPKz8","request_form_url":"https://forms.office.com/r/7G65N5eppk"},"theme":"cosmo","fig-cap-location":"bottom","reader-mode":false},"extensions":{"book":{"multiFile":true}}}}}